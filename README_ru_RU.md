<div align="left">
<img alt="Simple Files logo" src="banner.svg">
</div>
<div align="left">

[![codecov](https://codecov.io/gh/vinogradsoft/scanner/graph/badge.svg?token=9KA3S2VXBQ)](https://codecov.io/gh/vinogradsoft/scanner)
<img src="https://badgen.net/static/license/MIT/green">

</div>

# –ß—Ç–æ —Ç–∞–∫–æ–µ Scanner?

> üëâ Scanner - —ç—Ç–æ –∫–∞—Ä–∫–∞—Å –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º –ø–æ–∏—Å–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö. –û–Ω –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç
> –¥–≤–∞ –ø–æ–¥—Ö–æ–¥–∞ –∫ –∞–Ω–∞–ª–∏–∑—É –¥–∞–Ω–Ω—ã—Ö: –ø–µ—Ä–≤—ã–π, –∞–Ω–∞–ª–∏–∑ ‚Äú–≤ —à–∏—Ä–∏–Ω—É‚Äù, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –≤—Å–µ —É—Ä–æ–≤–Ω–∏ –¥–µ—Ä–µ–≤–∞ –∑–∞ –æ–¥–∏–Ω –ø—Ä–æ—Ö–æ–¥, –∞ –≤—Ç–æ—Ä–æ–π,
> –∞–Ω–∞–ª–∏–∑ ‚Äú–≤–≥–ª—É–±—å‚Äù, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –¥–µ—Ä–µ–≤–∞ –ø–æ –æ—á–µ—Ä–µ–¥–∏, –Ω–∞—á–∏–Ω–∞—è —Å –∫–æ—Ä–Ω—è. –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å —ç—Ç–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ -
> –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –ª–æ–≥–∏–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∞ –Ω–µ —Ç–æ–º, –∫–∞–∫ –æ–±—Ö–æ–¥–∏—Ç—å –¥–µ—Ä–µ–≤—å—è. Scanner
> –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ —Å—Ç—Ä–µ–º—è—â–∏—Ö—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
> –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–∞–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

- üí™ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –¥—Ä–∞–π–≤–µ—Ä–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä,
  [—Ñ–∞–π–ª–æ–≤—ã–π –¥—Ä–∞–π–≤–µ—Ä](https://github.com/vinogradsoft/files-driver) –¥–ª—è –æ–±—Ö–æ–¥–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –∏–ª–∏ ArrayDriver –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å
  –º–∞—Å—Å–∏–≤–∞–º–∏).
- üëç –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö.
- üöß –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–æ–º–µ–Ω—Ç–µ –æ–±—Ö–æ–¥–∞.
- ü§ö –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–±—Ö–æ–¥–∞ –¥–µ—Ä–µ–≤–∞ –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ –ø–æ —É—Å–ª–æ–≤–∏—é.
- ‚öóÔ∏è –ì–∏–±–∫–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–ª–∞–≥–æ–¥–∞—Ä—è —Å–≤–æ–∏–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º.

–£—Å—Ç–∞–Ω–æ–≤–∫–∞
---------

–ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —É—Å—Ç–∞–Ω–æ–≤–∫–∏ - —á–µ—Ä–µ–∑ [composer](http://getcomposer.org/download/).

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É

```
php composer require vinogradsoft/scanner "^2.0"
```

## –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–û—Å–Ω–æ–≤–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ —è–≤–ª—è–µ—Ç—Å—è `Vinograd\Scanner\Scanner`. –≠—Ç–æ—Ç –æ–±—ä–µ–∫—Ç –∞–∫–∫—É–º—É–ª–∏—Ä—É–µ—Ç –≤ —Å–µ–±–µ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±—Ö–æ–¥–∞
–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –æ–±—Ö–æ–¥ –¥–µ—Ä–µ–≤–∞.

–ê–ª–≥–æ—Ä–∏—Ç–º—ã –æ–±—Ö–æ–¥–∞ –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã, —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–∞–¥–∞—á–∏.
–¢–∞–∫–∏—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –¥–≤–µ: –≤ —à–∏—Ä–∏–Ω—É (`Vinograd\Scanner\BreadthStrategy`) –∏ –≤
–≥–ª—É–±–∏–Ω—É (`Vinograd\Scanner\SingleStrategy`).

–î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Vinograd\Scanner\Visitor`. –í –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –Ω–µ—Ç –¥–ª—è –Ω–µ–≥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏,
–µ–≥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π —ç—Ç—É –±–∏–±–ª–∏–æ—Ç–µ–∫—É. –í —ç—Ç–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ 4 –ø–æ–ª–µ–∑–Ω—ã—Ö –º–µ—Ç–æ–¥–∞:

- `scanStarted` - –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —Å—Ç–∞—Ä—Ç—É–µ—Ç –æ–±—Ö–æ–¥;
- `scanCompleted` - –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∑–∞–≤–µ—Ä—à–∏–ª–∞ —Å–≤–æ—é —Ä–∞–±–æ—Ç—É;
- `visitLeaf` - –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ—Å–µ—Ç–∏–ª–∞ –ª–∏—Å—Ç –¥–µ—Ä–µ–≤–∞;
- `visitNode` - –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ—Å–µ—Ç–∏–ª–∞ —É–∑–µ–ª –¥–µ—Ä–µ–≤–∞;

–ê–ª–≥–æ—Ä–∏—Ç–º –æ–±—Ö–æ–¥–∞ –≤ –≥–ª—É–±–∏–Ω—É –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π `Vinograd\Scanner\SingleStrategy`. –ï–µ –∞–ª–≥–æ—Ä–∏—Ç–º –¥–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç. –û–Ω–∞
–ø–æ–ª—É—á–∞–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ –µ–π —É–∑–ª–∞ –∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è. –ò–¥–µ—è –≤ —Ç–æ–º, —á—Ç–æ–±—ã –ø–æ–º–µ—Å—Ç–∏—Ç—å `Scanner` –≤ `Visitor`
–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–æ—á–µ—Ä–Ω–µ–≥–æ —É–∑–ª–∞ –≤ –º–µ—Ç–æ–¥–µ `visitNode`. –í –∏—Ç–æ–≥–µ –ø–æ–ª—É—á–∏—Ç—Å—è –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π
—Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –æ–±—Ö–æ–¥ –≤ –≥–ª—É–±–∏–Ω—É.

–í —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ `Vinograd\Scanner\BreadthStrategy` —Ç–∞–∫ –¥–µ–ª–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ, –æ–Ω–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–π
—ç–ª–µ–º–µ–Ω—Ç –¥–µ—Ä–µ–≤–∞.

–ö—Ä–æ–º–µ –ø—Ä–æ—á–µ–≥–æ, –≤ –º–æ–º–µ–Ω—Ç–µ –æ–±—Ö–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç `\Vinograd\Scanner\Verifier`. –ï–≥–æ —Ü–µ–ª—å—é —è–≤–ª—è–µ—Ç—Å—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –≥–∞—Ä–∞–Ω—Ç–∏–∏
—Ç–æ–≥–æ, —á—Ç–æ –¥–æ—á–µ—Ä–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º, –∏ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞ —Å–ª–µ–¥—É–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã `visitLeaf` –∏ `visitNode`
–æ–±—ä–µ–∫—Ç–∞ `Visitor`. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –µ–≥–æ –º–æ–∂–Ω–æ —Å–Ω–∞–±–¥–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏ –∏ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –¥–µ—Ä–µ–≤–∞. –î–ª—è
—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ `Vinograd\Scanner\BreadthStrategy` —ç—Ç–æ –Ω–µ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –µ—Å–ª–∏ —É–∑–µ–ª –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω, –æ–±—Ö–æ–¥–∏—Ç—å –µ–≥–æ –¥–æ—á–µ—Ä–Ω–∏–µ —É–∑–ª—ã
—Å—Ç—Ä–∞—Ç–µ–≥–∏—è –Ω–µ –±—É–¥–µ—Ç. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –º–µ—Ç–æ–¥—ã `visitLeaf` –∏ `visitNode` –Ω–µ –±—É–¥—É—Ç –≤—ã–∑–≤–∞–Ω—ã –¥–ª—è –Ω–µ –ø—Ä–æ—à–µ–¥—à–∏—Ö –ø—Ä–æ–≤–µ—Ä–∫—É
—ç–ª–µ–º–µ–Ω—Ç–æ–≤. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–±—Ö–æ–¥ —Ç–∞–∫, —á—Ç–æ–±—ã –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω—è–ª–∞—Å—å —Ç–æ–ª—å–∫–æ –Ω–∞ —Ü–µ–ª–µ–≤—ã—Ö —É–∑–ª–∞—Ö. –î–ª—è
—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ `Vinograd\Scanner\SingleStrategy` —ç—Ç–æ –±—É–¥–µ—Ç –æ–∑–Ω–∞—á–∞—Ç—å, —á—Ç–æ –¥–æ—á–µ—Ä–Ω–∏–µ —É–∑–ª—ã –ø—Ä–æ—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω—ã –Ω–µ –±—É–¥—É—Ç, —Ç–∞–∫ –∫–∞–∫
–º–µ—Ç–æ–¥ `visitNode` –Ω–µ –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω, –∏ –≤—ã –Ω–µ —Å–º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –Ω–µ–≥–æ. –û–±–æ–π—Ç–∏ —ç—Ç–æ –º–æ–∂–Ω–æ, —Å–º—è–≥—á–∏–≤ –ø—Ä–∞–≤–∏–ª–∞ –≤
–æ–±—ä–µ–∫—Ç–µ `Verifier` –∏ —Å–æ–∑–¥–∞–≤ –ø—Ä–æ–∫—Å–∏ `Visitor`, –≤ –∫–æ—Ç–æ—Ä–æ–º –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö —É–∑–ª–æ–≤, –Ω–æ –Ω–µ –≤—ã–∑—ã–≤–∞—Ç—å
–º–µ—Ç–æ–¥ `visitNode` —É –ø—Ä–æ–∫—Å–∏—Ä—É–µ–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.

–î—Ä–∞–π–≤–µ—Ä –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–±–∏—Ä–∞—Ç—å —Ç–∏–ø –æ–±—ä–µ–∫—Ç–æ–≤ –¥–µ—Ä–µ–≤–∞, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –æ–±—Ö–æ–¥–∏—Ç—å. –í –±–∏–±–ª–∏–æ—Ç–µ–∫–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –¥—Ä–∞–π–≤–µ—Ä –¥–ª—è –æ–±—Ö–æ–¥–∞
–º–∞—Å—Å–∏–≤–æ–≤. –ö–ª–∞—Å—Å –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `Vinograd\Scanner\ArrayDriver`. –ï—â–µ –æ–¥–Ω–∞ –≤–Ω–µ—à–Ω—è—è
—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è [files-driver](https://github.com/vinogradsoft/files-driver) –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∞—Ç—å –æ–±—Ö–æ–¥ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –≤ —Ñ–∞–π–ª–æ–≤–æ–π
—Å–∏—Å—Ç–µ–º–µ. –û–±–∞ —ç—Ç–∏—Ö –¥—Ä–∞–π–≤–µ—Ä–∞ —Ä–µ–∞–ª–∏–∑—É—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Vinograd\Scanner\Driver`.

## –ü—Ä–∏–º–µ—Ä

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

> üì¢ –ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –ø—Ä–∏–º–µ—Ä –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–º–∏, –≤ –Ω–µ–º –Ω–µ –≤–∫–ª—é—á–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ã—á–Ω–æ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –∫–æ–¥–µ. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ
> –ø—Ä–∏–º–µ—Ä —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —Å–∏—Å—Ç–µ–º—ã. –ü—Ä–∏–º–µ—Ä –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã
> –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–º–µ—Ä –º–æ–∂–Ω–æ, –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–≤ —Å–µ–±–µ
> —ç—Ç–æ—Ç [—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π](https://github.com/vinogradsoft/example-for-scanner).

### –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏

–¢—Ä–µ–±—É–µ—Ç—Å—è —Å–¥–µ–ª–∞—Ç—å –∫–æ–Ω—Å–æ–ª—å–Ω—É—é –∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ä—è–¥ –∫–æ–º–∞–Ω–¥,
–æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ –æ–±–æ–π—Ç–∏ —É–∑–ª—ã, –Ω–∞—á–∏–Ω–∞—è —Å `tasks`, –∞ —É–∑–µ–ª `other` –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å.

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

```php
<?php
return [
    'tasks' => [
        '—Å–¥–µ–ª–∞—Ç—å –∑–∞–≤—Ç—Ä–∞–∫' => [
            '–±—É—Ç–µ—Ä–±—Ä–æ–¥' => [
                '–æ—Ç—Ä–µ–∑–∞—Ç—å –∫—É—Å–æ–∫ —Ö–ª–µ–±–∞' => [
                    '–≤–∑—è—Ç—å –Ω–æ–∂ –≤ –ø—Ä–∞–≤—É—é —Ä—É–∫—É',
                    '–æ—Ç—Ä–µ–∑–∞—Ç—å –Ω–∞ –¥–µ—Ä–µ–≤—è–Ω–Ω–æ–π –¥–æ—Å–∫–µ –∫—É—Å–æ–∫ —Ö–ª–µ–±–∞'
                ],
                '–Ω–∞–º–∞–∑–∞—Ç—å —Ö–ª–µ–± –º–∞—Å–ª–æ–º',
                '–ø–æ–ª–æ–∂–∏—Ç—å —Å–≤–µ—Ä—Ö—É –∫—É—Å–æ–∫ —Å—ã—Ä–∞',
            ],
            '–∫–æ—Ñ–µ' => [
                '–≤–∑—è—Ç—å —á–∞—à–∫—É',
                '–Ω–∞–ª–∏—Ç—å –∫–æ—Ñ–µ –≤ —á–∞—à–∫—É',
            ],
        ]
    ],
    'other' => [
        'setting1' => 'value1',
        'setting2' => 'value2',
        'setting3' => 'value3'
    ]
];
```

–£–∑–ª–æ–º —è–≤–ª—è–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ —Å —Ç–∏–ø–æ–º `array`. –õ–∏—Å—Ç–æ–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ —Å —Ç–∏–ø–æ–º `string`.
–ö–∞–∂–¥—ã–π –ª–∏—Å—Ç –¥–µ—Ä–µ–≤–∞ - —ç—Ç–æ –∫–æ–º–∞–Ω–¥–∞, –∫–æ—Ç–æ—Ä—É—é –±—É–¥–µ–º –≤—ã–ø–æ–ª–Ω—è—Ç—å.

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

> ‚ùóÔ∏è –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å –º—ã –±—É–¥–µ–º `echo`, –¥—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏ –±—É–¥–µ–º –≤—ã–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è —É–∑–ª–æ–≤ –∏
> –∑–Ω–∞—á–µ–Ω–∏–µ –ª–∏—Å—Ç—å–µ–≤.

–ù–∞–ø–∏—à–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏ –Ω–∞–∑–æ–≤–µ–º –µ–≥–æ `Handler`. –≠—Ç–æ—Ç –∫–ª–∞—Å—Å —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Vinograd\Scanner\Visitor`, –∏–º–µ–Ω–Ω–æ –≤ –Ω–µ–º
–±—É–¥—É—Ç –≤—ã–≤–æ–¥–∏—Ç—å—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –Ω–∞–∑–≤–∞–Ω–∏–µ —É–∑–ª–æ–≤ –∏ –∑–Ω–∞—á–µ–Ω–∏—è –ª–∏—Å—Ç—å–µ–≤ –¥–µ—Ä–µ–≤–∞.

–ö–æ–¥:

```php
<?php
declare(strict_types=1);

namespace Example;

use Vinograd\Scanner\AbstractTraversalStrategy;
use Vinograd\Scanner\Visitor;

class Handler implements Visitor
{
    public function scanStarted(AbstractTraversalStrategy $scanStrategy, mixed $detect): void
    {
    }

    public function scanCompleted(AbstractTraversalStrategy $scanStrategy, mixed $detect): void
    {
    }

    public function visitLeaf(AbstractTraversalStrategy $scanStrategy, mixed $parentNode, mixed $currentElement, mixed $data = null): void
    {
        $leaf = array_shift($currentElement);
        echo '–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ: ', $leaf, PHP_EOL;
    }

    public function visitNode(AbstractTraversalStrategy $scanStrategy, mixed $parentNode, mixed $currentNode, mixed $data = null): void
    {
        $nodeName = array_key_first($currentNode);
        echo '–°—Ç–∞—Ä—Ç: ' . $nodeName, PHP_EOL;
    }
}
```

–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –∫–æ–¥ –∫–ª–∞—Å—Å–∞ `Handler` –±—ã–ª —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω —Ç–æ–ª—å–∫–æ –Ω–∞ –ª–æ–≥–∏–∫–µ –≤—ã–≤–æ–¥–∞ –Ω–∞–∑–≤–∞–Ω–∏–π, –Ω–∞–ø–∏—à–µ–º `ProxyHandler`, —á—Ç–æ–±—ã
—É–ø—Ä–∞–≤–ª—è—Ç—å –æ–±—Ö–æ–¥–æ–º –¥–µ—Ä–µ–≤–∞ –∏ –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã `Handler` —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω—É–∂–Ω—ã—Ö —É–∑–ª–æ–≤.

–ö–æ–¥:

```php
<?php
declare(strict_types=1);

namespace Example;

use Vinograd\Scanner\AbstractTraversalStrategy;
use Vinograd\Scanner\Scanner;
use Vinograd\Scanner\Visitor;

class ProxyHandler implements Visitor
{
    private Visitor $handler;
    private Scanner $scanner;

    public function __construct(Visitor $handler, Scanner $scanner)
    {
        $this->handler = $handler;
        $this->scanner = $scanner;
    }

    public function scanStarted(AbstractTraversalStrategy $scanStrategy, mixed $detect): void
    {
        $this->handler->scanStarted($scanStrategy, $detect);
    }

    public function scanCompleted(AbstractTraversalStrategy $scanStrategy, mixed $detect): void
    {
        $this->handler->scanCompleted($scanStrategy, $detect);
    }

    public function visitLeaf(AbstractTraversalStrategy $scanStrategy, mixed $parentNode, mixed $currentElement, mixed $data = null): void
    {
        $this->handler->visitLeaf($scanStrategy, $parentNode, $currentElement);
    }

    public function visitNode(AbstractTraversalStrategy $scanStrategy, mixed $parentNode, mixed $currentNode, mixed $data = null): void
    {
        $name = array_key_first($currentNode);
        if ($name !== 'tasks') {
            $this->handler->visitNode($scanStrategy, $parentNode, $currentNode);
        }
        $this->scanner->traverse($currentNode[$name]);
    }
}
```

–í —ç—Ç–æ–º –∫–æ–¥–µ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –Ω–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –º–µ—Ç–æ–¥ `visitNode`, –ø–æ—Å–∫–æ–ª—å–∫—É –≤ –Ω–µ–º –∏ –µ—Å—Ç—å –ª–æ–≥–∏–∫–∞ –æ–±—Ö–æ–¥–∞ –¥–µ—Ä–µ–≤–∞ –≤ –≥–ª—É–±–∏–Ω—É.
–¢–∞–∫ –∫–∞–∫ –Ω–∞–º –Ω–µ —Ö–æ—á–µ—Ç—Å—è –≤—ã–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–¥—ã `tasks`, –º—ã –Ω–µ –±—É–¥–µ–º –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥ –Ω–∞—à–µ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞, –µ—Å–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–¥—ã
—Ä–∞–≤–Ω–æ `tasks`. –ü—Ä–∏ —ç—Ç–æ–º –º—ã –≤—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ `traverse` —É Scanner-–∞, —á—Ç–æ–±—ã –ø—Ä–æ–π—Ç–∏ –¥–∞–ª—å—à–µ –≤–≥–ª—É–±—å –¥–µ—Ä–µ–≤–∞.

–ù–∞–ø–∏—à–µ–º —Ñ–∏–ª—å—Ç—Ä, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–º –ø–æ–∑–≤–æ–ª–∏—Ç –Ω–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —É–∑–µ–ª `other` –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

–ö–æ–¥:

```php
<?php
declare(strict_types=1);

namespace Example;

class FilterForNodeOther implements \Vinograd\Scanner\Filter
{
    public function filter(mixed $element): bool
    {
        $name = array_key_first($element);
        return $name !== 'other';
    }
}
```

–í —ç—Ç–æ–º –∫–æ–¥–µ –º—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–¥—ã –∏ –µ—Å–ª–∏ –æ–Ω–æ –Ω–µ 'other', –≤–æ–∑–≤—Ä–∞—â–∞–µ–º `true`, –∏–Ω–∞—á–µ `false`.
–ú—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º –∏–º–µ–Ω–Ω–æ –∫–ª—é—á –≤ –º–∞—Å—Å–∏–≤–µ. –ê—Ä–≥—É–º–µ–Ω—Ç `$element` —è–≤–ª—è–µ—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º, —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–µ—Å—å —É–∑–µ–ª –∏ –≤—Å–µ–≥–¥–∞ –æ–¥–∏–Ω –∫–ª—é—á,
–∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏–µ–º –Ω–æ–¥—ã, –ø–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `array_key_first` –≤–ø–æ–ª–Ω–µ —É–º–µ—Å—Ç–Ω–æ.

–°–æ–∑–¥–∞–¥–∏–º –≥–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å `Application`, –≤ –∫–æ—Ç–æ—Ä–æ–º –Ω–∞—Å—Ç—Ä–æ–∏–º `Scanner` –∏ –∑–∞–ø—É—Å—Ç–∏–º –æ–±—Ö–æ–¥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

```php
<?php
declare(strict_types=1);

namespace Example;

use Vinograd\Scanner\ArrayDriver;
use Vinograd\Scanner\Scanner;
use Vinograd\Scanner\SingleStrategy;

class Application
{
    public function run(array $config): void
    {
        $scanner = new Scanner();
        $scanner->setDriver(new ArrayDriver());
        $scanner->setVisitor(new ProxyHandler(new Handler(), $scanner));
        $scanner->setStrategy(new SingleStrategy());
        $scanner->addNodeFilter(new FilterForNodeOther());
        $scanner->traverse($config);
    }
}
```

–ö–æ–º–ø–ª–µ–∫—Ç—É–µ–º –æ–±—ä–µ–∫—Ç Scanner –Ω—É–∂–Ω—ã–º–∏ –¥–ª—è –∑–∞–¥–∞—á–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –æ–±—Ö–æ–¥ —É–∑–ª–æ–≤ –¥–µ—Ä–µ–≤–∞.

–í —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–µ –º—ã —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—ä–µ–∫—Ç–∞ Scanner:

```php
$scanner = new Scanner();
```

–î–∞–ª–µ–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥—Ä–∞–π–≤–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–∞—Å—Å–∏–≤–∞–º–∏:

```php
$scanner->setDriver(new ArrayDriver());
```

–°–ª–µ–¥—É—é—â–∏–º —ç—Ç–∞–ø–æ–º —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º `ProxyHandler`, –ø–µ—Ä–µ–¥–∞–≤ –µ–º—É –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –Ω–∞—à –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏ `Scanner`. –ó–∞–≤–µ—Ä—à–∞–µ–º —ç—Ç–æ—Ç
—ç—Ç–∞–ø —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–ª—è –æ–±—Ö–æ–¥–∞ –≤ –≥–ª—É–±–∏–Ω—É.

–ö–æ–¥:

```php
$scanner->setVisitor(new ProxyHandler(new Handler(), $scanner));
$scanner->setStrategy(new SingleStrategy());
```

–í —ç—Ç–∏—Ö —Å—Ç—Ä–æ–∫–∞—Ö:

```php
$scanner->addNodeFilter(new FilterForNodeOther());
$scanner->traverse($config);
```

–î–æ–±–∞–≤–ª—è–µ–º —Ñ–∏–ª—å—Ç—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —É–∑–µ–ª `other` –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –æ–±—Ö–æ–¥ —É–∑–ª–æ–≤.

## –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?

Scanner –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:

- [File-search](https://github.com/vinogradsoft/file-search) - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–∫–∞—Ç—å –Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –∏
  —á—Ç–æ-—Ç–æ —Å –Ω–∏–º–∏ –¥–µ–ª–∞—Ç—å;
- [Reflection](https://github.com/vinogradsoft/reflection) - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç–Ω—É—é –º–æ–¥–µ–ª—å —É–∫–∞–∑–∞–Ω–Ω–æ–π
  –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–∞–Ω–∏–ø—É–ª–∏—Ä–æ–≤–∞—Ç—å –µ—é: –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã, —É–¥–∞–ª—è—Ç—å, –ø–µ—Ä–µ–º–µ—â–∞—Ç—å –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ.

---

‚≠êÔ∏è **–ü–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥–æ—á–∫—É, –µ—Å–ª–∏ –Ω–∞—Ö–æ–¥–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –ø–æ–ª–µ–∑–Ω—ã–º!**

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

```
 php composer tests 
```

## –°–æ–¥–µ–π—Å—Ç–≤–∏–µ

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–º–æ—Ç—Ä–∏—Ç–µ [–í–ö–õ–ê–î](CONTRIBUTING.md) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

## –õ–∏—Ü–µ–Ω–∑–∏—è

–õ–∏—Ü–µ–Ω–∑–∏—è MIT (MIT). –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–º–æ—Ç—Ä–∏—Ç–µ [—Ñ–∞–π–ª –ª–∏—Ü–µ–Ω–∑–∏–∏](LICENSE) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.